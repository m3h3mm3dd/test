/* =========================================
   TEXT INPUT COMPONENT - TASKUP
   Apple-inspired text input styles
   ========================================= */

   :root {
    /* Text input specific variables */
    --text-input-height: var(--input-height-md);
    --text-input-padding: 0 var(--input-padding-x-md);
    --text-input-bg: var(--color-input-background);
    --text-input-border-color: var(--color-border);
    --text-input-border-radius: var(--input-border-radius);
    --text-input-transition: all 0.2s var(--ease-apple-standard);
  }
  
  /* Base Text Input */
  .text-field {
    display: block;
    width: 100%;
    height: var(--text-input-height);
    padding: var(--text-input-padding);
    font-family: var(--input-font-family);
    font-size: var(--input-font-size-md);
    line-height: 1.5;
    color: var(--input-text);
    background-color: var(--text-input-bg);
    border: 1px solid var(--text-input-border-color);
    border-radius: var(--text-input-border-radius);
    transition: var(--text-input-transition);
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
  }
  
  .text-field::placeholder {
    color: var(--input-placeholder);
    opacity: 1;
  }
  
  /* Hover state */
  .text-field:hover:not(:disabled):not(.error):not(.success) {
    border-color: var(--input-border-hover);
  }
  
  /* Focus state */
  .text-field:focus {
    outline: none;
    border-color: var(--input-border-focus);
    box-shadow: var(--input-shadow-focus);
  }
  
  /* Disabled state */
  .text-field:disabled,
  .text-field.disabled {
    background-color: var(--input-bg-disabled);
    color: var(--input-text-disabled);
    border-color: var(--input-border-disabled);
    cursor: not-allowed;
    opacity: 0.75;
  }
  
  /* Read-only state */
  .text-field[readonly] {
    background-color: var(--color-surface-secondary);
    cursor: default;
  }
  
  /* Error state */
  .text-field.error {
    border-color: var(--input-border-error);
  }
  
  .text-field.error:focus {
    box-shadow: var(--input-shadow-error);
  }
  
  /* Success state */
  .text-field.success {
    border-color: var(--input-border-success);
  }
  
  .text-field.success:focus {
    box-shadow: var(--input-shadow-success);
  }
  
  /* Input sizes */
  .text-field-xs {
    height: var(--input-height-xs);
    padding: 0 var(--input-padding-x-xs);
    font-size: var(--input-font-size-xs);
  }
  
  .text-field-sm {
    height: var(--input-height-sm);
    padding: 0 var(--input-padding-x-sm);
    font-size: var(--input-font-size-sm);
  }
  
  .text-field-md {
    height: var(--input-height-md);
    padding: 0 var(--input-padding-x-md);
    font-size: var(--input-font-size-md);
  }
  
  .text-field-lg {
    height: var(--input-height-lg);
    padding: 0 var(--input-padding-x-lg);
    font-size: var(--input-font-size-lg);
  }
  
  .text-field-xl {
    height: var(--input-height-xl);
    padding: 0 var(--input-padding-x-xl);
    font-size: var(--input-font-size-xl);
  }
  
  /* Text input with icon */
  .text-field-container {
    position: relative;
    display: inline-block;
    width: 100%;
  }
  
  .text-field-icon-left {
    padding-left: calc(var(--input-padding-x-md) * 2 + 20px);
  }
  
  .text-field-icon-right {
    padding-right: calc(var(--input-padding-x-md) * 2 + 20px);
  }
  
  .text-field-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    color: var(--color-icon-tertiary);
    pointer-events: none;
    transition: color 0.2s ease;
  }
  
  .text-field-icon-left .text-field-icon {
    left: var(--input-padding-x-md);
  }
  
  .text-field-icon-right .text-field-icon {
    right: var(--input-padding-x-md);
  }
  
  .text-field:focus ~ .text-field-icon {
    color: var(--color-primary);
  }
  
  .text-field.error ~ .text-field-icon {
    color: var(--color-error);
  }
  
  .text-field.success ~ .text-field-icon {
    color: var(--color-success);
  }
  
  /* Action button inside input (clear, show password, etc.) */
  .text-field-action {
    position: absolute;
    top: 50%;
    right: var(--input-padding-x-md);
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    border: none;
    background: none;
    padding: 0;
    color: var(--color-icon-tertiary);
    cursor: pointer;
    border-radius: 50%;
    transition: background-color 0.2s ease, color 0.2s ease;
  }
  
  .text-field-action:hover {
    background-color: var(--color-surface-secondary);
    color: var(--color-icon-secondary);
  }
  
  .text-field-action svg {
    width: 16px;
    height: 16px;
  }
  
  /* Character counter */
  .text-field-counter {
    position: absolute;
    right: var(--input-padding-x-md);
    top: calc(100% + 4px);
    font-size: var(--font-size-xs);
    color: var(--color-text-tertiary);
  }
  
  .text-field-counter.limit-near {
    color: var(--color-warning);
  }
  
  .text-field-counter.limit-reached {
    color: var(--color-error);
  }
  
  /* Input with label */
  .form-group {
    margin-bottom: var(--spacing-4);
  }
  
  .input-label {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-1);
  }
  
  .input-label.required::after {
    content: '*';
    color: var(--color-error);
    margin-left: var(--spacing-0-5);
  }
  
  /* Helper text */
  .helper-text {
    margin-top: var(--spacing-1);
    font-size: var(--font-size-xs);
    color: var(--color-text-tertiary);
  }
  
  .helper-text.error {
    color: var(--color-error);
  }
  
  .helper-text.success {
    color: var(--color-success);
  }
  
  /* Floating label */
  .form-group-float {
    position: relative;
  }
  
  .form-group-float .text-field {
    height: auto;
    padding: var(--spacing-2) var(--input-padding-x-md) var(--spacing-1);
  }
  
  .form-group-float .input-label {
    position: absolute;
    top: 50%;
    left: var(--input-padding-x-md);
    transform: translateY(-50%);
    margin-bottom: 0;
    transition: all 0.2s ease;
    transform-origin: left top;
    pointer-events: none;
  }
  
  .form-group-float .text-field:focus ~ .input-label,
  .form-group-float .text-field:not(:placeholder-shown) ~ .input-label {
    top: 8px;
    transform: translateY(0) scale(0.85);
    color: var(--color-text-tertiary);
  }
  
  .form-group-float .text-field:focus ~ .input-label {
    color: var(--color-primary);
  }
  
  .form-group-float .text-field.error ~ .input-label {
    color: var(--color-error);
  }
  
  .form-group-float .text-field.success ~ .input-label {
    color: var(--color-success);
  }
  
  /* Input group */
  .input-group {
    display: flex;
    position: relative;
  }
  
  .input-group .text-field {
    position: relative;
    flex: 1 1 auto;
    width: 1%;
    min-width: 0;
  }
  
  .input-group-prepend,
  .input-group-append {
    display: flex;
  }
  
  .input-group-text {
    display: flex;
    align-items: center;
    padding: 0 var(--spacing-2);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    background-color: var(--color-surface-secondary);
    border: 1px solid var(--color-border);
  }
  
  .input-group .input-group-prepend + .text-field {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-left: 0;
  }
  
  .input-group .text-field + .input-group-append {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    border-right: 0;
  }
  
  .input-group .input-group-prepend .input-group-text {
    border-top-left-radius: var(--input-border-radius);
    border-bottom-left-radius: var(--input-border-radius);
  }
  
  .input-group .input-group-append .input-group-text {
    border-top-right-radius: var(--input-border-radius);
    border-bottom-right-radius: var(--input-border-radius);
  }
  
  /* Form group inline */
  .form-group-inline {
    display: flex;
    align-items: center;
  }
  
  .form-group-inline .input-label {
    margin-right: var(--spacing-2);
    margin-bottom: 0;
    white-space: nowrap;
  }
  
  .form-group-inline .text-field {
    flex: 1;
  }
  
  /* Autofill styles */
  .text-field:-webkit-autofill,
  .text-field:-webkit-autofill:hover,
  .text-field:-webkit-autofill:focus {
    -webkit-text-fill-color: var(--input-text);
    transition: background-color 5000s ease-in-out 0s;
  }
  
  /* Animation when showing validation results */
  @keyframes shakeError {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-5px); }
    40%, 80% { transform: translateX(5px); }
  }
  
  .input-shake {
    animation: shakeError 0.6s cubic-bezier(.36,.07,.19,.97) both;
  }